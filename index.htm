<!doctype html>
<html lang="en">
<head>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Listora — Premium Checklists</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css" />
</head>
<body class="antialiased text-white">

  <div id="bgGradient" class="fixed inset-0 -z-10"></div>
  <video id="bgVideo" class="fixed inset-0 -z-20 object-cover hidden" autoplay muted loop></video>
  <img id="bgImage" class="fixed inset-0 -z-20 object-cover hidden" alt="background"/>

  <!-- HEADER -->
  <header class="fixed top-2 left-1/2 -translate-x-1/2 w-[95%] max-w-5xl z-40 sm:top-4">
    <nav class="glass-nav flex items-center justify-between px-3 py-2 rounded-2xl sm:px-6 sm:py-3">
      <div class="flex items-center gap-3 sm:gap-6">
        <button id="homeBtn" class="nav-btn text-xs sm:text-sm">Home</button>
        <button id="listsBtn" class="nav-btn primary text-xs sm:text-sm">Lists</button>
        <button id="settingsBtn" class="nav-btn text-xs sm:text-sm">Settings</button>
      </div>
      <div class="relative" id="profileContainer">
        <button id="profileBtn" class="w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center text-white font-bold text-sm sm:text-lg hover:bg-white/30 transition">
          <span id="profileInitial">U</span>
        </button>
        <div id="profileDropdown" class="absolute right-0 sm:right-0 mt-2 w-44 glass-nav rounded-xl shadow-xl overflow-hidden hidden z-50 origin-top-right">
          <button id="accountBtn" class="w-full text-left px-3 py-2.5 text-white hover:bg-white/10 transition flex items-center gap-2 text-sm">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
            Account
          </button>
          <button id="logoutBtn" class="w-full text-left px-3 py-2.5 text-white hover:bg-white/10 transition flex items-center gap-2 border-t border-white/10 text-sm">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
            Logout
          </button>
        </div>
      </div>
    </nav>
  </header>

  <main class="pt-28 pb-20 min-h-screen">

    

    <!-- HOME VIEW -->
    <section id="homeView" class="flex flex-col items-center justify-center text-center min-h-[70vh]">
      <h1 class="text-6xl md:text-8xl font-extrabold gradient-text mb-2" id="titleGradient">Listora</h1>
<p class="text-sm md:text-base font-medium text-white/80 tracking-wider overflow-hidden mb-6">
  <span class="inline-block animate-slide-in">
    Premium Checklists • Sync • Share • Forever
  </span>
</p>
<div class="flex flex-col sm:flex-row gap-6">
  <button id="heroCreate" class="home-btn">Create New List</button>
  <button id="heroSettings" class="home-btn">Settings</button>
</div>
    </section>

    <!-- APP VIEW -->
    <section id="appView" class="hidden max-w-6xl mx-auto px-4">
      <div class="flex flex-col md:flex-row gap-8">
        <aside class="w-full md:w-80">
          <div class="card-glass p-5 rounded-2xl">
            <button id="newListBtn" class="w-full py-3 mb-4 rounded-lg primary">+ New Checklist</button>
            <div id="listsContainer" class="space-y-2 max-h-[65vh] overflow-auto"></div>
          </div>
        </aside>

        <main class="flex-1">
          <div class="card-glass p-6 rounded-2xl">
            <!-- Mobile: Share above title | Desktop: side by side -->
            <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-2 mb-4">
              <button id="shareBtn" class="w-full sm:w-auto px-5 py-3 rounded-lg glass text-sm font-bold order-1">
                Share
              </button>
              <input id="listTitle" 
                     class="flex-1 p-3 rounded-lg bg-white/10 text-lg font-semibold placeholder-white/60 order-2" 
                     placeholder="Untitled list">
            </div>

            <div class="flex gap-2 mb-4">
              <input id="newItem" class="flex-1 p-3 rounded-lg bg-white/10 placeholder-white/60" placeholder="Add a new task">
              <button id="addItemBtn" class="px-5 rounded-lg primary text-xl">+</button>
            </div>

            <ul id="itemsList" class="space-y-3 max-h-[55vh] overflow-auto"></ul>
          </div>
        </main>
        
      </div>
    </section>

    <!-- SETTINGS VIEW -->
    <section id="settingsView" class="hidden max-w-5xl mx-auto px-4 mt-10">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Background Mode -->
        <div class="card-glass p-6 rounded-2xl">
          <h3 class="font-bold text-xl mb-4 gradient-text">Background Mode</h3>
          <select id="bgMode" class="w-full p-3 rounded-lg bg-black/40 text-white mb-4">
            <option value="gradient">Animated Gradient</option>
            <option value="image">Custom Image</option>
            <option value="video">Custom Video</option>
            <option value="youtube">YouTube Video</option>
          </select>
          <div id="bgControls">
            <div id="gradientControls" class="space-y-4">
              <label class="block">Gradient Colors</label>
              <div class="flex gap-2">
                <input id="c1" type="color" value="#7b2ff7" class="w-12 h-12 rounded-md">
                <input id="c2" type="color" value="#0ea5f9" class="w-12 h-12 rounded-md">
                <input id="c3" type="color" value="#ff4da6" class="w-12 h-12 rounded-md">
                <input id="c4" type="color" value="#ffd1ea" class="w-12 h-12 rounded-md">
              </div>
              <label>Speed: <span id="speedValue">12</span>s</label>
              <input id="gradSpeed" type="range" min="3" max="30" value="12" class="w-full">
              <button id="applyGradient" class="w-full py-2 rounded-lg primary mt-2">Apply Gradient</button>
            </div>
            <div id="fileControls" class="hidden space-y-3">
              <input id="bgFile" type="file" accept="image/*,video/*" class="w-full text-sm">
              <button id="applyFile" class="w-full py-2 rounded-lg primary">Apply File</button>
            </div>
            <div id="youtubeControls" class="hidden space-y-3">
              <input id="bgUrl" placeholder="YouTube URL or ID" class="w-full p-3 rounded-lg bg-black/40">
              <button id="applyYoutube" class="w-full py-2 rounded-lg primary">Apply YouTube</button>
            </div>
          </div>
          <label class="flex items-center gap-2 mt-4">
            <input id="overlayToggle" type="checkbox"> Dark overlay
          </label>
        </div>

        <!-- Music & Memes -->
        <div class="card-glass p-6 rounded-2xl">
          <h3 class="font-bold text-xl mb-4 gradient-text">Music & Memes</h3>
          <label class="flex items-center gap-2 mb-3">
            <input id="musicToggle" type="checkbox"> Background music
          </label>
          <input id="musicUpload" type="file" accept="audio/*" class="w-full text-sm mb-3">
          <label>Volume: <span id="volValue">60</span>%</label>
          <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.6" class="w-full mb-4">
          <label class="flex items-center gap-2 mb-3">
            <input id="memeToggle" type="checkbox"> Memes on check
          </label>
          <div class="flex gap-2">
            <input id="memeUrl" placeholder="GIF URL" class="flex-1 p-2 rounded-lg bg-black/40 text-sm">
            <button id="addMemeBtn" class="px-4 py-2 rounded-lg glass text-sm">Add</button>
          </div>
          <div id="memeList" class="flex flex-wrap gap-2 mt-3"></div>
        </div>

        <!-- Sound Effects -->
        <div class="card-glass p-6 rounded-2xl">
          <h3 class="font-bold text-xl mb-4 gradient-text">Check Sound</h3>
          <label class="flex items-center gap-2 mb-4">
            <input id="soundToggle" type="checkbox"> Play sound when checking
          </label>
          <input id="soundUpload" type="file" accept="audio/*" class="w-full text-sm mb-3">
          <button id="testSound" class="w-full py-2 rounded-lg glass">Test Sound</button>
          <small class="block mt-2 text-white/60">Default: satisfying "ding"</small>
        </div>

        <!-- Data & Share -->
        <div class="card-glass p-6 rounded-2xl">
          <h3 class="font-bold text-xl mb-4 gradient-text">Data & Share</h3>
          <button id="exportBtn" class="w-full py-3 rounded-lg primary mb-3">Export JSON</button>
          <label class="block">
            <input id="importFile" type="file" accept=".json" class="w-full text-sm mb-3">
            <button id="importBtn" class="w-full py-3 rounded-lg glass">Import JSON</button>
          </label>
        </div>

        <!-- Actions -->
        <div class="card-glass p-6 rounded-2xl">
          <h3 class="font-bold text-xl mb-4 gradient-text">Actions</h3>
          <button id="saveSettings" class="w-full py-3 rounded-lg primary mb-3">Save All</button>
          <button id="resetSettings" class="w-full py-3 rounded-lg danger mb-3">Reset All</button>
          <button id="closeSettings" class="w-full py-3 rounded-lg glass">Close</button>
        </div>
      </div>
    </section>

    <!-- ACCOUNT MODAL -->
    <div id="accountModal" class="fixed inset-0 bg-black/60 backdrop-blur-sm z-50 hidden flex items-center justify-center p-4">
      <div class="card-glass p-6 rounded-2xl max-w-md w-full space-y-5">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-2xl font-bold gradient-text">Account Settings</h2>
          <button id="closeAccountModal" class="text-white/60 hover:text-white text-xl">X</button>
        </div>  
        <!-- PFP -->
        <div class="flex flex-col items-center gap-3">
          <div class="relative">
            <img id="pfpPreview" src="" alt="Profile" class="w-24 h-24 rounded-full object-cover border-4 border-white/20">
            <label for="pfpUpload" class="absolute bottom-0 right-0 bg-gradient-to-r from-purple-500 to-pink-500 text-white p-2 rounded-full cursor-pointer hover:scale-110 transition">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            </label>
            <input id="pfpUpload" type="file" accept="image/*" class="hidden">
          </div>
          <p class="text-sm text-white/60">Click to change photo</p>
        </div>
        <!-- Display Name -->
        <div>
          <label class="block text-sm font-medium mb-1">Display Name</label>
          <input id="displayNameInput" type="text" placeholder="Your name" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/60">
        </div>
        <!-- Email -->
        <div>
          <label class="block text-sm font-medium mb-1">Email</label>
          <input id="emailInput" type="email" placeholder="new@email.com" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/60">
          <button id="updateEmailBtn" class="mt-2 w-full py-2 rounded-lg primary text-sm">Update Email</button>
        </div>
        <!-- Password -->
        <div>
          <label class="block text-sm font-medium mb-1">Change Password</label>
          <input id="oldPass" type="password" placeholder="Current password" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/60 mb-2">
          <input id="newPass" type="password" placeholder="New password" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/60 mb-2">
          <input id="confirmPass" type="password" placeholder="Confirm new password" class="w-full p-3 rounded-lg bg-white/10 text-white placeholder-white/60 mb-2">
          <button id="updatePassBtn" class="w-full py-2 rounded-lg primary text-sm">Update Password</button>
        </div>
        <div class="text-center text-xs text-white/50">
          Signed in as <span id="currentEmail"></span>
        </div>
      </div>
    </div>

    <!-- DELETE LIST CONFIRMATION MODAL (ADDED HERE) -->
    <div id="deleteListModal" class="fixed inset-0 bg-black/70 backdrop-blur-md z-50 hidden flex items-center justify-center p-4">
      <div class="card-glass p-6 rounded-2xl max-w-sm w-full space-y-5 animate-modal">
        <div class="flex items-center justify-between">
          <h3 class="text-xl font-bold text-white">Delete List?</h3>
          <button id="closeDeleteModal" class="text-white/60 hover:text-white text-xl">X</button>
        </div>
        <p class="text-white/80 text-sm">This action cannot be undone. All tasks will be gone forever.</p>
        <div class="flex gap-3">
          <button id="cancelDeleteBtn" class="flex-1 py-3 rounded-xl glass text-white font-medium hover:bg-white/10 transition">
            Cancel
          </button>
          <button id="confirmDeleteBtn" class="flex-1 py-3 rounded-xl bg-red-600/90 text-white font-medium hover:bg-red-700 transition shadow-lg">
            Delete
          </button>
        </div>
      </div>
    </div>
      <!-- LISTS CONTAINER -->
  <div id="listsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 hidden">
  </div>

    <!-- LISTS GRID -->
  <div id="listsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6 hidden"></div>

  </main>

    

  <!-- OVERLAYS -->
  <canvas id="confettiCanvas" class="fixed inset-0 z-50 pointer-events-none"></canvas>
  <div id="memePopup" class="hidden fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-60">
    <img id="memeImage" class="max-w-[320px] rounded-lg shadow-xl" src="" alt="meme">
  </div>
  <div id="overlayMsg" class="hidden fixed inset-0 z-60 flex items-center justify-center pointer-events-none">
    <div id="overlayText" class="text-4xl md:text-6xl font-extrabold gradient-text"></div>
  </div>

  <audio id="bgAudio" loop crossorigin="anonymous"></audio>

  <script src="main.js"></script>
  
  <script src="ai-list.js"></script>
  
   
</body>
</html>